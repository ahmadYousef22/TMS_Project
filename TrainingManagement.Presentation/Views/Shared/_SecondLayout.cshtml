@using Microsoft.AspNetCore.Identity
@using TrainingManagment.Domain.consts
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager
    
    
    <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- basic -->
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <!-- mobile metas -->
            <link href="~/DesignTemplate/style.css" rel="stylesheet" />
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <meta name="viewport" content="initial-scale=1, maximum-scale=1">
            <!-- site metas -->
            <title>TMS</title>

            <!-- site icon -->
            <link rel="icon" href="images/fevicon.png" type="image/png" />
            <!-- bootstrap css -->
            <link rel="stylesheet" href="~/DesignTemplate/css/bootstrap.min.css" />
            <!-- site css -->
            <link rel="stylesheet" href="~/DesignTemplate/style.css" />
            <!-- responsive css -->
            <link rel="stylesheet" href="~/DesignTemplate/css/responsive.css" />
            <!-- color css -->
            <link rel="stylesheet" href="~/DesignTemplate/css/colors.css" />
            <!-- select bootstrap -->
            <link rel="stylesheet" href="~/DesignTemplate/css/bootstrap-select.css" />
            <!-- scrollbar css -->
            <link rel="stylesheet" href="~/DesignTemplate/css/perfect-scrollbar.css" />
            <!-- custom css -->
            <link rel="stylesheet" href="css/custom.css" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha384-o0eXkTJoZ3MTK6CPsMXYs1P5jDfu5/6QbrNXAzr3eZNl/6ZGGF9OJ93TKIcL4f" crossorigin="anonymous">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
            <!--My Lib-->
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
            <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

            <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
            <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js" />
            <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js" />
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
            <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.10/css/jquery.dataTables.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
            <script src="https://cdn.jsdelivr.net/npm/tableexport@5.2.0/dist/js/tableexport.min.js"></script>
            <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
            <![endif]-->
            <style>
                        /*  body {
                    background-color: white !important;
                }

                .content-bg {
                    background-color: #f5f5f5;  Change this to your desired background color
                }


                .logo-img-h {
                    border-radius: 15px;
                    box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
                }*/

                        .btn-with-hand-cursor {
                            cursor: pointer;
                        }

                        .button-container a:hover {
                            Add your hover styles here background-color: #f0f0f0;
                            Change background color on hover color: #333;
                            Change text color on hover
                        }

                        Custom style for Flatpickr
                        .flatpickr-calendar {
                            background-color: #fff;
                            border: 1px solid #ccc;
                            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                        }

                        Custom style for selected date in Flatpickr
                        .flatpickr-day.selected {
                            background-color: #007bff;
                            color: #fff;
                        }

                        Style for the calendar icon
                        i.far.fa-calendar {
                            position: absolute;
                            top: 59%;
                            right: 23px;
                            transform: translateY(-50%);
                            cursor: pointer;
                            color: #666;
                        }

                        .required-field::after {
                            content: "*";
                            color: red;
                        }
            </style>

        </head>
        @if (SignInManager.IsSignedIn(User))
        {
            <body class="dashboard dashboard_2">
                <div class="full_container">
                    <div class="inner_container">
                        <!-- Sidebar  -->
                        <nav id="sidebar">
                            <div class="sidebar_blog_1">
                                <div class="sidebar-header">
                                    <div class="logo_section">
                                        <a href="index.html"><img class="logo_icon img-responsive" src="~/images/logo.png" alt="#" /></a>
                                    </div>
                                </div>
                                <div class="sidebar_user_info">
                                    <div class="icon_setting"></div>
                                    <div class="user_profle_side">

                                        <div class="user_img"><img class="img-responsive" src="~/images//TPS-logo.png" alt="profile_Picture" /></div>

                                        <div class="user_info">
                                            <a href="index.html"><img class="logo_icon img-responsive" src="~/images/TPS-logo.png" alt="#" /></a>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            @if (User.IsInRole(RoleName.Admin))
                            {
                                <div class="sidebar_blog_2">
                                    <h4>    TMS</h4>
                                    <ul class="list-unstyled components">

                                        <li><a asp-controller="Home" asp-action="Index"><i class="fa fa-dashboard yellow_color"></i> <span>Dashboard</span></a></li>

                                        <li><a asp-controller="Session" asp-action="Index"><i class="fa fa-table"></i><span>Training Courses</span></a></li>

                                        <li><a asp-controller="List" asp-action="Types"><i class="fa fa-table purple_color2"></i> <span>Training Types</span></a></li>

                                        <li><a asp-controller="List" asp-action="Topics"><i class="fa fa-briefcase blue1_color"></i> <span>Training Topics</span></a></li>


                                        <li><a asp-controller="List" asp-action="Trainers"><i class="bi bi-people-fill"></i> <span>Training Trainers</span></a></li>
                                        <li><a asp-controller="List" asp-action="Years"><i class="fa fa-bar-chart-o green_color"></i> <span>Training Years</span></a></li>
                                        <li><a asp-controller="Users" asp-action="Index"><i class="fa fa-cog yellow_color"></i> <span>Users Managments</span></a></li>
                                    </ul>
                                </div>
                            }

                            else if (User.IsInRole(RoleName.Manager))
                            {
                                <ul id="sidebarnav">
                                    <li><a href="dashboard.html"><i class="fa fa-dashboard yellow_color"></i> <span>Dashboard</span></a></li>

                                </ul>
                            }
                        </nav>
                        <!-- end sidebar -->
                        <!-- right content -->

                        <div id="content">
                            <div class="topbarr">
                                <nav class="navbar navbar-expand-lg navbar-light">
                                    <div class="full">
                                        <button type="button" id="sidebarCollapse" class="sidebar_toggle"><i class="fa fa-bars"></i></button>

                                        <div class="right_topbarr">
                                            <div class="icon_info">

                                                <ul class="user_profile_dd">
                                                    <li>

                                                        <a class="dropdown-toggle" data-toggle="dropdown">
                                                            @if (UserManager.GetUserAsync(User).Result.ProfilePicture != null)
                                                            {
                                                                <img class="img-responsive rounded-circle" src="data:image/*;base64,@(Convert.ToBase64String(UserManager.GetUserAsync(User).Result.ProfilePicture))" alt="user" style="height: 40px; width: 40px; object-fit: cover" />}

                                                            <span class="hidden-md-down">@UserManager.GetUserAsync(User).Result.FullName &nbsp;</span> &nbsp;

                                                        </a>


                                                        <div class="dropdown-menu">
                                                            <a class="dropdown-item" asp-area="Identity" asp-page="/Account/Manage/Index">Profile</a>
                                                            <form id="logoutForm" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                                                                <button id="logout" type="submit" class="dropdown-item">Log Out <i class="fa fa-sign-out"></i></button>
                                                            </form>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        }
                                    </div>
                                </nav>
                            </div>
                            <!-- end topbarr -->
                            <!-- dashboard inner -->
                            <div class="midde_cont">
                                <div class="container-fluid">

                                    @RenderBody()


                                    <div class="container-fluid">
                                        <div class="footer">
                                            <p>
                                                ©@DateTime.Now.Year TMS by <a href="https://www.Techprocess.net/">
                                                    Techprocess
                                                </a>
                                            </p>
                                        </div>
                                    </div>
                                    @RenderSection("Scripts", required: false)

                                </div>
                                <!-- end dashboard inner -->
                            </div>
                        </div>
                    </div>
                    <!-- jQuery -->
                    <script src="~/DesignTemplate/js/jquery.min.js"></script>
                    <script src="~/DesignTemplate/js/popper.min.js"></script>
                    <script src="~/DesignTemplate/js/bootstrap.min.js"></script>
                    <!-- wow animation -->
                    <script src="~/DesignTemplate/js/animate.js"></script>
                    <!-- select country -->
                    <script src="~/DesignTemplate/js/bootstrap-select.js"></script>
                    <!-- owl carousel -->
                    <script src="~/DesignTemplate/js/owl.carousel.js"></script>
                    <!-- chart js -->
                    <script src="~/DesignTemplate/js/Chart.min.js"></script>
                    <script src="~/DesignTemplate/js/Chart.bundle.min.js"></script>
                    <script src="~/DesignTemplate/js/utils.js"></script>
                    <script src="~/DesignTemplate/js/analyser.js"></script>
                    <!-- nice scrollbar -->
                    <script src="~/DesignTemplate/js/perfect-scrollbar.min.js"></script>
                    <script>
                        var ps = new PerfectScrollbar('#sidebar');
                    </script>
                    <!-- custom js -->
                    <script src="~/DesignTemplate/js/custom.js"></script>
                    <script src="~/DesignTemplate/js/chart_custom_style1.js"></script>
                    <!-- old script-->
                    <script src="~/Design/assets/node/jquery.min.js"></script>
                    <!-- Bootstrap popper Core JavaScript -->
                    <script src="~/Design/assets/node/bootstrap.bundle.min.js"></script>
                    <!-- slimscrollbar scrollbar JavaScript -->
                    <script src="~/Design/js/perfect-scrollbar.jquery.min.js"></script>


                    <!--Wave Effects -->


                    <script src="~/Design/js/waves.js"></script>
                    <!--Menu sidebar -->
                    <script src="~/Design/js/sidebarmenu.js"></script>
                    <!--Custom JavaScript -->
                    <script src="~/Design/js/custom.min.js"></script>


                    <script src="~/Design/assets/node/raphael-min.js"></script>
                    <script src="~/Design/assets/node/morris.min.js"></script>
                    <!--c3 JavaSc~/Design/t -->
                    <script src="~/Design/assets/node/d3.min.js"></script>
                    <script src="~/Design/assets/node/c3.min.js"></script>

                    <!--My Lib-->
                    <script src="~/lib/jquery/dist/jquery.min.js"></script>
                    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
                    <script src="~/js/site.js" asp-append-version="true"></script>
                    <script src="~/lib/bootbox.js/bootbox.min.js"></script>
                    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
                    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

                    <script src="~/lib/jquery/dist/jquery.min.js"></script>
                    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
                    <script src="~/js/site.js" asp-append-version="true"></script>
                    <script src="~/lib/bootbox.js/bootbox.min.js"></script>
                    <script src="//cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
 
                    <script>
                        // Get a reference to the sidebar element
                        const sidebar = document.querySelector(".sidebar");

                        // Get a reference to the toggle button
                        const toggleButton = document.querySelector("#toggleSidebar");

                        // Add a click event listener to the toggle button
                        toggleButton.addEventListener("click", () => {
                            // Toggle the 'hidden' class to show/hide the sidebar
                            sidebar.classList.toggle("hidden");
                        });
                    </script>
            </body>
}
    </html>
